{"ast":null,"code":"import { applyTriggerPropsToChildren, getTriggerChild, mergeCallbacks, useMergedRefs, useEventCallback } from '@fluentui/react-utilities';\nimport { useModalAttributes } from '@fluentui/react-tabster';\nimport { usePopoverContext_unstable } from '../../popoverContext';\nimport { useARIAButtonProps } from '@fluentui/react-aria';\nimport { Escape } from '@fluentui/keyboard-keys';\n/**\n * Create the state required to render PopoverTrigger.\n *\n * The returned state can be modified with hooks such as usePopoverTriggerStyles,\n * before being passed to renderPopoverTrigger_unstable.\n *\n * @param props - props from this instance of PopoverTrigger\n */\n\nexport const usePopoverTrigger_unstable = props => {\n  const {\n    children,\n    disableButtonEnhancement = false\n  } = props;\n  const child = getTriggerChild(children);\n  const open = usePopoverContext_unstable(context => context.open);\n  const setOpen = usePopoverContext_unstable(context => context.setOpen);\n  const toggleOpen = usePopoverContext_unstable(context => context.toggleOpen);\n  const triggerRef = usePopoverContext_unstable(context => context.triggerRef);\n  const openOnHover = usePopoverContext_unstable(context => context.openOnHover);\n  const openOnContext = usePopoverContext_unstable(context => context.openOnContext);\n  const {\n    triggerAttributes\n  } = useModalAttributes();\n  const onContextMenu = e => {\n    if (openOnContext) {\n      e.preventDefault();\n      setOpen(e, true);\n    }\n  };\n  const onClick = e => {\n    if (!openOnContext) {\n      toggleOpen(e);\n    }\n  };\n  const onKeyDown = e => {\n    if (e.key === Escape && open) {\n      setOpen(e, false); // stop propagation to avoid conflicting with other elements that listen for `Escape`\n      // e,g: Dialog, Menu\n\n      e.stopPropagation();\n    }\n  };\n  const onMouseEnter = e => {\n    if (openOnHover) {\n      setOpen(e, true);\n    }\n  };\n  const onMouseLeave = e => {\n    if (openOnHover) {\n      setOpen(e, false);\n    }\n  };\n  const contextMenuProps = {\n    ...triggerAttributes,\n    'aria-expanded': `${open}`,\n    ...(child === null || child === void 0 ? void 0 : child.props),\n    onMouseEnter: useEventCallback(mergeCallbacks(child === null || child === void 0 ? void 0 : child.props.onMouseEnter, onMouseEnter)),\n    onMouseLeave: useEventCallback(mergeCallbacks(child === null || child === void 0 ? void 0 : child.props.onMouseLeave, onMouseLeave)),\n    onContextMenu: useEventCallback(mergeCallbacks(child === null || child === void 0 ? void 0 : child.props.onContextMenu, onContextMenu)),\n    ref: useMergedRefs(triggerRef, child === null || child === void 0 ? void 0 : child.ref)\n  };\n  const triggerChildProps = {\n    ...contextMenuProps,\n    onClick: useEventCallback(mergeCallbacks(child === null || child === void 0 ? void 0 : child.props.onClick, onClick)),\n    onKeyDown: useEventCallback(mergeCallbacks(child === null || child === void 0 ? void 0 : child.props.onKeyDown, onKeyDown))\n  };\n  const ariaButtonTriggerChildProps = useARIAButtonProps((child === null || child === void 0 ? void 0 : child.type) === 'button' || (child === null || child === void 0 ? void 0 : child.type) === 'a' ? child.type : 'div', triggerChildProps);\n  return {\n    children: applyTriggerPropsToChildren(props.children, useARIAButtonProps((child === null || child === void 0 ? void 0 : child.type) === 'button' || (child === null || child === void 0 ? void 0 : child.type) === 'a' ? child.type : 'div', openOnContext ? contextMenuProps : disableButtonEnhancement ? triggerChildProps : ariaButtonTriggerChildProps))\n  };\n};","map":{"version":3,"mappings":"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","names":["applyTriggerPropsToChildren","getTriggerChild","mergeCallbacks","useMergedRefs","useEventCallback","useModalAttributes","usePopoverContext_unstable","useARIAButtonProps","Escape","usePopoverTrigger_unstable","props","children","disableButtonEnhancement","child","open","context","setOpen","toggleOpen","triggerRef","openOnHover","openOnContext","triggerAttributes","onContextMenu","e","preventDefault","onClick","onKeyDown","key","stopPropagation","onMouseEnter","onMouseLeave","contextMenuProps","ref","triggerChildProps","ariaButtonTriggerChildProps","type"],"sources":["D:\\teams-app\\qlik2\\Microsoft-Teams-Samples\\samples\\tab-personal-sso-quickstart\\js\\node_modules\\@fluentui\\react-popover\\lib\\components\\src\\packages\\react-components\\react-popover\\src\\components\\PopoverTrigger\\usePopoverTrigger.ts"],"sourcesContent":["import * as React from 'react';\nimport {\n  applyTriggerPropsToChildren,\n  getTriggerChild,\n  mergeCallbacks,\n  useMergedRefs,\n  useEventCallback,\n} from '@fluentui/react-utilities';\nimport { useModalAttributes } from '@fluentui/react-tabster';\nimport { usePopoverContext_unstable } from '../../popoverContext';\nimport type { PopoverTriggerProps, PopoverTriggerState } from './PopoverTrigger.types';\nimport { useARIAButtonProps } from '@fluentui/react-aria';\nimport { Escape } from '@fluentui/keyboard-keys';\n\n/**\n * Create the state required to render PopoverTrigger.\n *\n * The returned state can be modified with hooks such as usePopoverTriggerStyles,\n * before being passed to renderPopoverTrigger_unstable.\n *\n * @param props - props from this instance of PopoverTrigger\n */\nexport const usePopoverTrigger_unstable = (props: PopoverTriggerProps): PopoverTriggerState => {\n  const { children, disableButtonEnhancement = false } = props;\n  const child = getTriggerChild(children);\n\n  const open = usePopoverContext_unstable(context => context.open);\n  const setOpen = usePopoverContext_unstable(context => context.setOpen);\n  const toggleOpen = usePopoverContext_unstable(context => context.toggleOpen);\n  const triggerRef = usePopoverContext_unstable(context => context.triggerRef);\n  const openOnHover = usePopoverContext_unstable(context => context.openOnHover);\n  const openOnContext = usePopoverContext_unstable(context => context.openOnContext);\n  const { triggerAttributes } = useModalAttributes();\n\n  const onContextMenu = (e: React.MouseEvent<HTMLElement>) => {\n    if (openOnContext) {\n      e.preventDefault();\n      setOpen(e, true);\n    }\n  };\n\n  const onClick = (e: React.MouseEvent<HTMLElement>) => {\n    if (!openOnContext) {\n      toggleOpen(e);\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n    if (e.key === Escape && open) {\n      setOpen(e, false);\n      // stop propagation to avoid conflicting with other elements that listen for `Escape`\n      // e,g: Dialog, Menu\n      e.stopPropagation();\n    }\n  };\n\n  const onMouseEnter = (e: React.MouseEvent<HTMLElement>) => {\n    if (openOnHover) {\n      setOpen(e, true);\n    }\n  };\n\n  const onMouseLeave = (e: React.MouseEvent<HTMLElement>) => {\n    if (openOnHover) {\n      setOpen(e, false);\n    }\n  };\n\n  const contextMenuProps = {\n    ...triggerAttributes,\n    'aria-expanded': `${open}`,\n    ...child?.props,\n    onMouseEnter: useEventCallback(mergeCallbacks(child?.props.onMouseEnter, onMouseEnter)),\n    onMouseLeave: useEventCallback(mergeCallbacks(child?.props.onMouseLeave, onMouseLeave)),\n    onContextMenu: useEventCallback(mergeCallbacks(child?.props.onContextMenu, onContextMenu)),\n    ref: useMergedRefs(triggerRef, child?.ref),\n  } as const;\n\n  const triggerChildProps = {\n    ...contextMenuProps,\n    onClick: useEventCallback(mergeCallbacks(child?.props.onClick, onClick)),\n    onKeyDown: useEventCallback(mergeCallbacks(child?.props.onKeyDown, onKeyDown)),\n  };\n\n  const ariaButtonTriggerChildProps = useARIAButtonProps(\n    child?.type === 'button' || child?.type === 'a' ? child.type : 'div',\n    triggerChildProps,\n  );\n\n  return {\n    children: applyTriggerPropsToChildren(\n      props.children,\n      useARIAButtonProps(\n        child?.type === 'button' || child?.type === 'a' ? child.type : 'div',\n        openOnContext ? contextMenuProps : disableButtonEnhancement ? triggerChildProps : ariaButtonTriggerChildProps,\n      ),\n    ),\n  };\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}