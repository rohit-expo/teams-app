{"ast":null,"code":"import * as React from 'react';\nimport { useFocusFinders } from '@fluentui/react-tabster';\nimport { useFluent_unstable } from '@fluentui/react-shared-contexts';\n/**\n * Focus first element on content when dialog is opened,\n */\n\nexport function useFocusFirstElement(open, modalType) {\n  const {\n    findFirstFocusable\n  } = useFocusFinders();\n  const {\n    targetDocument\n  } = useFluent_unstable();\n  const dialogRef = React.useRef(null);\n  const triggerRef = React.useRef();\n  React.useEffect(() => {\n    var _a, _b;\n    if (!open) {\n      return (_a = triggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    triggerRef.current = targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.activeElement;\n    const element = dialogRef.current && findFirstFocusable(dialogRef.current);\n    if (element) {\n      element.focus();\n    } else {\n      (_b = dialogRef.current) === null || _b === void 0 ? void 0 : _b.focus(); // https://github.com/microsoft/fluentui/issues/25150\n\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.warn(['@fluentui/react-dialog: a Dialog should have at least one focusable element inside DialogSurface.', 'Please add at least a close button either on `DialogTitle` action slot or inside `DialogActions`'].join('\\n'));\n      }\n    }\n  }, [findFirstFocusable, open, modalType, targetDocument]);\n  return dialogRef;\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AAIA;;AAEG;;AACH,OAAM,SAAUC,oBAAV,CAA+BC,IAA/B,EAA8CC,SAA9C,EAAwE;EAC5E,MAAM;IAAEC;EAAF,IAAyBL,eAAe,EAA9C;EACA,MAAM;IAAEM;EAAF,IAAqBL,kBAAkB,EAA7C;EACA,MAAMM,SAAS,GAAGR,KAAK,CAACS,MAAN,CAAmC,IAAnC,CAAlB;EACA,MAAMC,UAAU,GAAGV,KAAK,CAACS,MAAN,EAAnB;EAEAT,KAAK,CAACW,SAAN,CAAgB,MAAK;;IACnB,IAAI,CAACP,IAAL,EAAW;MACT,OAAO,gBAAU,CAACQ,OAAX,MAAkB,IAAlB,IAAkBC,aAAlB,GAAkB,MAAlB,GAAkBA,GAAEC,KAAF,EAAzB;IACD;IACDJ,UAAU,CAACE,OAAX,GAAqBL,cAAc,SAAd,kBAAc,WAAd,GAAc,MAAd,iBAAc,CAAEQ,aAArC;IACA,MAAMC,OAAO,GAAGR,SAAS,CAACI,OAAV,IAAqBN,kBAAkB,CAACE,SAAS,CAACI,OAAX,CAAvD;IACA,IAAII,OAAJ,EAAa;MACXA,OAAO,CAACF,KAAR;IACD,CAFD,MAEO;MACL,eAAS,CAACF,OAAV,MAAiB,IAAjB,IAAiBK,aAAjB,GAAiB,MAAjB,GAAiBA,GAAEH,KAAF,EAAjB,CADK,CACuB;;MAC5B,IAAII,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;QACzC;QACAC,OAAO,CAACC,IAAR,CACE,CACE,mGADF,EAEE,kGAFF,EAGEC,IAHF,CAGO,IAHP,CADF;MAMD;IACF;EACF,CApBD,EAoBG,CAACjB,kBAAD,EAAqBF,IAArB,EAA2BC,SAA3B,EAAsCE,cAAtC,CApBH;EAsBA,OAAOC,SAAP;AACD","names":["React","useFocusFinders","useFluent_unstable","useFocusFirstElement","open","modalType","findFirstFocusable","targetDocument","dialogRef","useRef","triggerRef","useEffect","current","_a","focus","activeElement","element","_b","process","env","NODE_ENV","console","warn","join"],"sources":["D:\\teams-app\\qlik2\\Microsoft-Teams-Samples\\samples\\tab-personal-sso-quickstart\\js\\node_modules\\@fluentui\\react-dialog\\lib\\src\\packages\\react-components\\react-dialog\\src\\utils\\useFocusFirstElement.ts"],"sourcesContent":["import * as React from 'react';\nimport { useFocusFinders } from '@fluentui/react-tabster';\nimport { useFluent_unstable } from '@fluentui/react-shared-contexts';\nimport type { DialogSurfaceElement } from '../DialogSurface';\nimport type { DialogModalType } from '../Dialog';\n\n/**\n * Focus first element on content when dialog is opened,\n */\nexport function useFocusFirstElement(open: boolean, modalType: DialogModalType) {\n  const { findFirstFocusable } = useFocusFinders();\n  const { targetDocument } = useFluent_unstable();\n  const dialogRef = React.useRef<DialogSurfaceElement>(null);\n  const triggerRef = React.useRef<HTMLElement>();\n\n  React.useEffect(() => {\n    if (!open) {\n      return triggerRef.current?.focus();\n    }\n    triggerRef.current = targetDocument?.activeElement as HTMLElement | undefined;\n    const element = dialogRef.current && findFirstFocusable(dialogRef.current);\n    if (element) {\n      element.focus();\n    } else {\n      dialogRef.current?.focus(); // https://github.com/microsoft/fluentui/issues/25150\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.warn(\n          [\n            '@fluentui/react-dialog: a Dialog should have at least one focusable element inside DialogSurface.',\n            'Please add at least a close button either on `DialogTitle` action slot or inside `DialogActions`',\n          ].join('\\n'),\n        );\n      }\n    }\n  }, [findFirstFocusable, open, modalType, targetDocument]);\n\n  return dialogRef;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}